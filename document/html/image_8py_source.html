<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ufp: ufp/image.py 소스 파일</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ufp
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 다음에 의해 생성됨 :  Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'검색');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>메인&#160;페이지</span></a></li>
      <li><a href="namespaces.html"><span>패키지</span></a></li>
      <li><a href="annotated.html"><span>클래스</span></a></li>
      <li class="current"><a href="files.html"><span>파일들</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="검색" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>파일&#160;목록</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">ufp/image.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="image_8py.html">이 파일의 문서화 페이지로 가기</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespaceufp_1_1image.html">00001</a> <span class="comment">#!/usr/bin/env python</span>
<a name="l00002"></a>00002 <span class="comment">#-*- coding: utf-8 -*-</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals, absolute_import, division, print_function
<a name="l00005"></a>00005 <span class="keyword">import</span> PIL.Image
<a name="l00006"></a>00006 <span class="keyword">import</span> PIL.ImageChops
<a name="l00007"></a>00007 <span class="keyword">import</span> math
<a name="l00008"></a>00008 <span class="keyword">import</span> copy
<a name="l00009"></a>00009 
<a name="l00010"></a><a class="code" href="namespaceufp_1_1image.html#ab71aba4982183a3170177c4942fbd847">00010</a> RGB_MIN_VALUE = 0
<a name="l00011"></a><a class="code" href="namespaceufp_1_1image.html#a958a2384b407f39669daaeeceb36c60a">00011</a> RGB_MAX_VALUE = 256
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="comment">#PIL.Image의 L 모드를 의미.</span>
<a name="l00014"></a><a class="code" href="namespaceufp_1_1image.html#abcc231e2d8a983d270b73d7a49cad685">00014</a> GRAYSCALE_MIN_VALUE = 0
<a name="l00015"></a><a class="code" href="namespaceufp_1_1image.html#a88739fee15886fe070436bf0670ea29a">00015</a> GRAYSCALE_MAX_VALUE = 256
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="namespaceufp_1_1image.html#a4a14a61cd0d3f353c7fc0912022773f8">00017</a> <span class="keyword">def </span><a class="code" href="namespaceufp_1_1image.html#a4a14a61cd0d3f353c7fc0912022773f8">quantizeByImprovedGrayScale</a>(image, colorCount=GRAYSCALE_MAX_VALUE):
<a name="l00018"></a>00018         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00019"></a>00019 <span class="stringliteral">        @brief 주어진 이미지에 대해 Improved Gray Scale(IGS) 양자화시킵니다.</span>
<a name="l00020"></a>00020 <span class="stringliteral">        @link http://stackoverflow.com/questions/14434963/change-number-of-gray-levels-in-a-grayscale-image-in-matlab change number of gray levels in a grayscale image in matlab - Stack Overflow</span>
<a name="l00021"></a>00021 <span class="stringliteral">        @link http://code.activestate.com/recipes/259112/ Improved Gray Scale Quantization (Python recipe)</span>
<a name="l00022"></a>00022 <span class="stringliteral">        @throw ValueError 사용 불가능한 모드의 이미지를 인자로 준 경우</span>
<a name="l00023"></a>00023 <span class="stringliteral">        @param image PIL.Image 이미지 객체\n</span>
<a name="l00024"></a>00024 <span class="stringliteral">                이 이미지는 L 모드여야 합니다.</span>
<a name="l00025"></a>00025 <span class="stringliteral">        @param colorCount 원본의 색상 수\n</span>
<a name="l00026"></a>00026 <span class="stringliteral">                주어진 이미지의 색상 수를 목표로 하는 색상로 맞추는데 사용 할 수도 있습니다. 이 경우, 주어진 모드가 한 채널에서 가질 수 있는 최대 값을 상한선으로 하여, 목표로 하는 색상의 수를 정하십시오.</span>
<a name="l00027"></a>00027 <span class="stringliteral">        @return 변경된 PIL.Image 이미지 객체</span>
<a name="l00028"></a>00028 <span class="stringliteral">        @remark 언제나 주어진 이미지 객체를 복제한 객체를 수정하여 반환합니다.</span>
<a name="l00029"></a>00029 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00030"></a>00030         <span class="keywordflow">if</span> image.mode != <span class="stringliteral">&#39;L&#39;</span>:
<a name="l00031"></a>00031                 <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;{0} 모드의 이미지는 사용 할 수 없습니다.&#39;</span>.format(image.mode))
<a name="l00032"></a>00032         
<a name="l00033"></a>00033         result = image.copy()
<a name="l00034"></a>00034         raito = GRAYSCALE_MAX_VALUE / colorCount
<a name="l00035"></a>00035         mask = math.trunc(raito - 1)
<a name="l00036"></a>00036         prev_sum = 0
<a name="l00037"></a>00037         width, height = image.size
<a name="l00038"></a>00038         <span class="keywordflow">for</span> x <span class="keywordflow">in</span> xrange(0, width):
<a name="l00039"></a>00039                 <span class="keywordflow">for</span> y <span class="keywordflow">in</span> xrange(0, height):
<a name="l00040"></a>00040                         value = image.getpixel((x, y))
<a name="l00041"></a>00041                         <span class="keywordflow">if</span> math.trunc(value/raito) != mask:
<a name="l00042"></a>00042                                 prev_sum = value + (prev_sum &amp; mask)
<a name="l00043"></a>00043                         <span class="keywordflow">else</span>:
<a name="l00044"></a>00044                                 prev_sum = value
<a name="l00045"></a>00045                                 <span class="keywordflow">pass</span>
<a name="l00046"></a>00046                         buffer = math.trunc(prev_sum/raito) * raito
<a name="l00047"></a>00047                         result.putpixel((x, y), buffer)
<a name="l00048"></a>00048                         <span class="keywordflow">pass</span>
<a name="l00049"></a>00049                 <span class="keywordflow">pass</span>
<a name="l00050"></a>00050         <span class="keywordflow">return</span> result
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="namespaceufp_1_1image.html#ac3700cc6693117ace5782522be61d0f2">00052</a> <span class="keyword">def </span><a class="code" href="namespaceufp_1_1image.html#ac3700cc6693117ace5782522be61d0f2">changeColorDepth</a>(image, colorCount):
<a name="l00053"></a>00053         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00054"></a>00054 <span class="stringliteral">        @brief 이미지의 색 깊이를 감소시킵니다.</span>
<a name="l00055"></a>00055 <span class="stringliteral">        @link http://en.wikipedia.org/wiki/List_of_monochrome_and_RGB_palettes List of monochrome and RGB palettes - Wikipedia, the free encyclopedia</span>
<a name="l00056"></a>00056 <span class="stringliteral">        @link http://stackoverflow.com/questions/14434963/change-number-of-gray-levels-in-a-grayscale-image-in-matlab change number of gray levels in a grayscale image in matlab - Stack Overflow</span>
<a name="l00057"></a>00057 <span class="stringliteral">        @throw ValueError 사용 불가능한 모드의 이미지를 인자로 준 경우</span>
<a name="l00058"></a>00058 <span class="stringliteral">        @param image PIL.Image 객체\n</span>
<a name="l00059"></a>00059 <span class="stringliteral">                L, RGB, RGBA 모드의 이미지를 처리 할 수 있습니다.</span>
<a name="l00060"></a>00060 <span class="stringliteral">        @param colorCount 결과물의 색상 수\n</span>
<a name="l00061"></a>00061 <span class="stringliteral">                주어진 모드가 한 채널에서 가질 수 있는 최대 값을 상한선으로 하여, 목표로 하는 색상의 수를 정하십시오.</span>
<a name="l00062"></a>00062 <span class="stringliteral">        @return 변경된 PIL.Image 이미지 객체</span>
<a name="l00063"></a>00063 <span class="stringliteral">        @remark 언제나 주어진 이미지 객체를 복제한 객체를 수정하여 반환합니다.</span>
<a name="l00064"></a>00064 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00065"></a>00065         <span class="keywordflow">if</span> image.mode == <span class="stringliteral">&#39;L&#39;</span>:
<a name="l00066"></a>00066                 raito = GRAYSCALE_MAX_VALUE / colorCount
<a name="l00067"></a>00067                 change = <span class="keyword">lambda</span> value: math.trunc(value/raito)*raito
<a name="l00068"></a>00068         <span class="keywordflow">elif</span> image.mode == <span class="stringliteral">&#39;RGB&#39;</span> <span class="keywordflow">or</span> image.mode == <span class="stringliteral">&#39;RGBA&#39;</span>:
<a name="l00069"></a>00069                 raito = RGB_MAX_VALUE / colorCount
<a name="l00070"></a>00070                 change = <span class="keyword">lambda</span> value: tuple(map(<span class="keyword">lambda</span> value: math.trunc(value/raito)*raito, value))
<a name="l00071"></a>00071         <span class="keywordflow">else</span>:
<a name="l00072"></a>00072                 <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;{0} 모드의 이미지는 사용 할 수 없습니다.&#39;</span>.format(image.mode))
<a name="l00073"></a>00073         
<a name="l00074"></a>00074         result = image.copy()
<a name="l00075"></a>00075         width, height = image.size
<a name="l00076"></a>00076         <span class="keywordflow">for</span> x <span class="keywordflow">in</span> xrange(0, width):
<a name="l00077"></a>00077                 <span class="keywordflow">for</span> y <span class="keywordflow">in</span> xrange(0, height):
<a name="l00078"></a>00078                         value = image.getpixel((x, y))
<a name="l00079"></a>00079                         buffer = change(value)
<a name="l00080"></a>00080                         result.putpixel((x, y), buffer)
<a name="l00081"></a>00081                         <span class="keywordflow">pass</span>
<a name="l00082"></a>00082                 <span class="keywordflow">pass</span>
<a name="l00083"></a>00083         <span class="keywordflow">return</span> result
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="namespaceufp_1_1image.html#ad79c5ff827a0a4e5f636e62f7cb3e4ae">00085</a> <span class="keyword">def </span><a class="code" href="namespaceufp_1_1image.html#ad79c5ff827a0a4e5f636e62f7cb3e4ae">mostPopularEdgeColor</a>(image):
<a name="l00086"></a>00086         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00087"></a>00087 <span class="stringliteral">        @brief 이미지의 둘레(left,right,top,bottom)에서 가장 많이 나타나는 색깔이 무엇인지 계산한다.</span>
<a name="l00088"></a>00088 <span class="stringliteral">        @link http://coreapython.hosting.paran.com/howto/sebsauvage_net-%20Snyppets%20-%20Python%20snippets.htm#autocrop 이 함수에 대해 참조한 자료가 있는 웹페이지</span>
<a name="l00089"></a>00089 <span class="stringliteral">        @param image PIL 이미지 객체</span>
<a name="l00090"></a>00090 <span class="stringliteral">        @return 가장 많은 색상(정수 튜플 (R,G,B))</span>
<a name="l00091"></a>00091 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00092"></a>00092         <span class="keywordflow">if</span> image.mode != <span class="stringliteral">&#39;RGB&#39;</span>:
<a name="l00093"></a>00093                 image = image.convert(<span class="stringliteral">&quot;RGB&quot;</span>)
<a name="l00094"></a>00094                 <span class="keywordflow">pass</span>
<a name="l00095"></a>00095         
<a name="l00096"></a>00096         <span class="comment"># 이미지의 둘레에서 픽셀을 얻는다:</span>
<a name="l00097"></a>00097         width,height = image.size
<a name="l00098"></a>00098         left   = image.crop((0, 1, 1, height-1))
<a name="l00099"></a>00099         right  = image.crop((width-1, 1, width, height-1))
<a name="l00100"></a>00100         top    = image.crop((0, 0, width, 1))
<a name="l00101"></a>00101         bottom = image.crop((0, height-1, width, height))
<a name="l00102"></a>00102         pixels = left.tostring() + right.tostring() + top.tostring() + bottom.tostring()
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="comment"># 어떤 RGB 삼중원소가 가장 많은지 계산한다</span>
<a name="l00105"></a>00105         counts = dict()
<a name="l00106"></a>00106         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, len(pixels), 3):
<a name="l00107"></a>00107                 rgb = pixels[i] + pixels[i+1] + pixels[i+2]
<a name="l00108"></a>00108                 <span class="keywordflow">if</span> rgb <span class="keywordflow">in</span> counts:
<a name="l00109"></a>00109                         counts[rgb] += 1
<a name="l00110"></a>00110                 <span class="keywordflow">else</span>:
<a name="l00111"></a>00111                         counts[rgb] = 1
<a name="l00112"></a>00112                         <span class="keywordflow">pass</span>
<a name="l00113"></a>00113                 <span class="keywordflow">pass</span>
<a name="l00114"></a>00114         
<a name="l00115"></a>00115         <span class="comment"># 가장 많은 색깔을 얻는다:        </span>
<a name="l00116"></a>00116         mostPopularColor = sorted([(count, rgba) <span class="keywordflow">for</span> (rgba, count) <span class="keywordflow">in</span> counts.items()], reverse=<span class="keyword">True</span>)[0][1]
<a name="l00117"></a>00117         r = ord(mostPopularColor[0])
<a name="l00118"></a>00118         g = ord(mostPopularColor[1])
<a name="l00119"></a>00119         b = ord(mostPopularColor[2])
<a name="l00120"></a>00120         <span class="keywordflow">return</span> (r, g, b)
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="namespaceufp_1_1image.html#a4420410a3d105cd349ad288c5db927c0">00122</a> <span class="keyword">def </span><a class="code" href="namespaceufp_1_1image.html#a4420410a3d105cd349ad288c5db927c0">trim</a>(image, backgroundColor=None, fuzz=0):
<a name="l00123"></a>00123         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00124"></a>00124 <span class="stringliteral">        @brief 이미지 주위에 있는 여백을 제거한다.</span>
<a name="l00125"></a>00125 <span class="stringliteral">        @details \n</span>
<a name="l00126"></a>00126 <span class="stringliteral">                이미지에 알파 채널이 있으면, 그것을 사용하여 무엇을 자를지 고른다. 그렇지 않으면, 이미지 둘레에서 가장 많은 색상을 찾으려고 시도한다. 그리고 이 색상을 여백으로 간주한다. (backgroundColor 매개변수로 이 색상을 오버라이드할 수 있다.)</span>
<a name="l00127"></a>00127 <span class="stringliteral">        </span>
<a name="l00128"></a>00128 <span class="stringliteral">        @warning fuzz옵션 사용시, 이미지가 여백과 유사한 색상일 경우 이미지의 경계를 넘어 이미지까지 잘리는 문제가 생길 수 있다.</span>
<a name="l00129"></a>00129 <span class="stringliteral">        @warning fuzz옵션 사용시, 여백에 잡음이 존재하는 경우 여백을 넘어 이미지를 자를 수 있습니다.</span>
<a name="l00130"></a>00130 <span class="stringliteral">        </span>
<a name="l00131"></a>00131 <span class="stringliteral">        @throw ValueError fuzz값이 잘못된 경우</span>
<a name="l00132"></a>00132 <span class="stringliteral">        @throw ValueError 주어진 이미지가 처리 불가능한 모드인 경우</span>
<a name="l00133"></a>00133 <span class="stringliteral">        </span>
<a name="l00134"></a>00134 <span class="stringliteral">        @link http://coreapython.hosting.paran.com/howto/sebsauvage_net-%20Snyppets%20-%20Python%20snippets.htm#autocrop 이 함수에 대해 참조한 자료가 있는 웹페이지</span>
<a name="l00135"></a>00135 <span class="stringliteral">        @link http://stackoverflow.com/questions/10615901/trim-whitespace-using-pil 이 함수에 대해 참조한 자료가 있는 웹페이지</span>
<a name="l00136"></a>00136 <span class="stringliteral">        @link https://pillow.readthedocs.org/reference/ImageChops.html Pillow 사용자 문서 - ImageChops 모듈 API</span>
<a name="l00137"></a>00137 <span class="stringliteral">        </span>
<a name="l00138"></a>00138 <span class="stringliteral">        @param image (PIL 이미지 객체) 다듬을 이미지.\n</span>
<a name="l00139"></a>00139 <span class="stringliteral">                알파 채널이 포함된 이미지 또는, RGB 형식의 이미지만 처리 할 수 있습니다.</span>
<a name="l00140"></a>00140 <span class="stringliteral">        @param backgroundColor &quot;다듬을 배경&quot;으로 간주될 색상(RGB). (3개의 정수가 담긴 터플)\n</span>
<a name="l00141"></a>00141 <span class="stringliteral">                예컨데, tuple(0,0,255)와 같은 형식으로 주어야 합니다.\n</span>
<a name="l00142"></a>00142 <span class="stringliteral">                이미지가 투명이면, 이 매개변수는 무시된다.\n</span>
<a name="l00143"></a>00143 <span class="stringliteral">                이미지가 투명이 아니고 이 매개변수가 주어지지 않으면, 자동으로 계산된다.</span>
<a name="l00144"></a>00144 <span class="stringliteral">        @param fuzz float 또는 int형(0~99.9). 두 색상을 동일하게 취급하는 정도를 설정합니다.\n</span>
<a name="l00145"></a>00145 <span class="stringliteral">                예컨데, 0은 각 픽셀이 가진 값 그대로 비교하고, 1은 RGB 1,1,1과 2,2,2를 동일하게 취급합니다. 숫자가 커질 수록 범위가 증가합니다.</span>
<a name="l00146"></a>00146 <span class="stringliteral">        </span>
<a name="l00147"></a>00147 <span class="stringliteral">        @return 다듬어진 이미지(PIL 이미지 객체).</span>
<a name="l00148"></a>00148 <span class="stringliteral">        @return 변경될 내용이 없는 경우, 원본을 반환합니다.</span>
<a name="l00149"></a>00149 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00150"></a>00150         bbox = <span class="keywordtype">None</span>
<a name="l00151"></a>00151         
<a name="l00152"></a>00152         <span class="comment">#fuzz값 체크</span>
<a name="l00153"></a>00153         <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(fuzz, (float, int)) <span class="keywordflow">or</span> <span class="keywordflow">not</span> 0 &lt;= fuzz <span class="keywordflow">or</span> <span class="keywordflow">not</span> fuzz &lt;= 99.9:
<a name="l00154"></a>00154                 <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;fuzz에는 오직 0~99사이의 int 또는 float만 사용 할 수 있습니다.&#39;</span>)
<a name="l00155"></a>00155         
<a name="l00156"></a>00156         <span class="comment">#이미지에 투명 레이어가 있으면, 그걸 사용한다.</span>
<a name="l00157"></a>00157         <span class="keywordflow">if</span> <span class="stringliteral">&#39;A&#39;</span> <span class="keywordflow">in</span> image.getbands():
<a name="l00158"></a>00158                 <span class="comment">#이는 투명 레이어가 있는 모든 모드에 작동한다</span>
<a name="l00159"></a>00159                 bbox = image.split()[list(image.getbands()).index(<span class="stringliteral">&#39;A&#39;</span>)].getbbox()
<a name="l00160"></a>00160         <span class="comment">#RGB 모드인 경우</span>
<a name="l00161"></a>00161         <span class="keywordflow">elif</span> image.mode == <span class="stringliteral">&#39;RGB&#39;</span>:
<a name="l00162"></a>00162                 <span class="keywordflow">if</span> <span class="keywordflow">not</span> backgroundColor:
<a name="l00163"></a>00163                         backgroundColor = <a class="code" href="namespaceufp_1_1image.html#ad79c5ff827a0a4e5f636e62f7cb3e4ae">mostPopularEdgeColor</a>(image)
<a name="l00164"></a>00164                         <span class="keywordflow">pass</span>
<a name="l00165"></a>00165                 <span class="comment"># 불투명 이미지를 다듬는다. .getbbox()는 언제나 검정색을 다듬는다. 그래서 이미지에서 &quot;배경색&quot;을 빼줄 필요가 있다.</span>
<a name="l00166"></a>00166                 bg = PIL.Image.new(image.mode, image.size, backgroundColor)
<a name="l00167"></a>00167                 diff = PIL.ImageChops.difference(image, bg)  <span class="comment"># 이미지에서 배경색을 뺀다.</span>
<a name="l00168"></a>00168                 
<a name="l00169"></a>00169                 <span class="comment">#차이를 감소시킨다.</span>
<a name="l00170"></a>00170                 <span class="keywordflow">if</span> fuzz &gt; 0:
<a name="l00171"></a>00171                         buffer = math.trunc(RGB_MAX_VALUE * fuzz / 100)
<a name="l00172"></a>00172                         offset = - buffer
<a name="l00173"></a>00173                         diff = PIL.ImageChops.add(diff, diff, 2.0, offset)
<a name="l00174"></a>00174                         <span class="keywordflow">pass</span>
<a name="l00175"></a>00175                 
<a name="l00176"></a>00176                 bbox = diff.getbbox()  <span class="comment"># 이미지의 진짜 둘레를 찾는다.</span>
<a name="l00177"></a>00177         <span class="keywordflow">else</span>:
<a name="l00178"></a>00178                 <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;{0} 모드의 이미지는 처리가 불가능 합니다.&#39;</span>.format(image.mode))
<a name="l00179"></a>00179         
<a name="l00180"></a>00180         <span class="keywordflow">if</span> bbox:
<a name="l00181"></a>00181                 image = image.crop(bbox)
<a name="l00182"></a>00182                 <span class="keywordflow">pass</span>
<a name="l00183"></a>00183         
<a name="l00184"></a>00184         <span class="keywordflow">return</span> image
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>모두</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>클래스</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>네임스페이스들</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>파일들</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>함수</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>변수</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
생성시간 : 화 3월 17 2015 10:27:13, 프로젝트명 : ufp, 생성자 :  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
